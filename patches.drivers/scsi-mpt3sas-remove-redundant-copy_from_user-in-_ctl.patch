From: Meng Xu <mengxu.gatech@gmail.com>
Date: Wed, 20 Sep 2017 11:13:51 -0400
Subject: scsi: mpt3sas: remove redundant copy_from_user in _ctl_getiocinfo
Patch-mainline: v4.15-rc1
Git-commit: c0ff7e2c217d6b367cd0343f14866677f7cf4dc6
References: bsc#1049527,FATE#322938

Since right after the user copy, we are going to memset(&karg, 0,
sizeof(karg)), the copy_from_user is redundant

Signed-off-by: Meng Xu <mengxu.gatech@gmail.com>
Reviewed-by: Christoph Hellwig <hch@lst.de>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: Johannes Thumshirn <jthumshirn@suse.de>
---
 drivers/scsi/mpt3sas/mpt3sas_ctl.c |    6 ------
 1 file changed, 6 deletions(-)

--- a/drivers/scsi/mpt3sas/mpt3sas_ctl.c
+++ b/drivers/scsi/mpt3sas/mpt3sas_ctl.c
@@ -1065,12 +1065,6 @@ _ctl_getiocinfo(struct MPT3SAS_ADAPTER *
 {
 	struct mpt3_ioctl_iocinfo karg;
 
-	if (copy_from_user(&karg, arg, sizeof(karg))) {
-		pr_err("failure at %s:%d/%s()!\n",
-		    __FILE__, __LINE__, __func__);
-		return -EFAULT;
-	}
-
 	dctlprintk(ioc, pr_info(MPT3SAS_FMT "%s: enter\n", ioc->name,
 	    __func__));
 
